import{d as f,r as p,h as y,E as k,k as m,c as n,o as a,a as t,e as o,w as x,v as b,F as v,J as h,t as s,_ as D}from"./index-CG6kTogK.js";import{o as g,c as B}from"./indexedDB-C2533RPs.js";const w={key:0,class:"hint"},P={class:"filter-space"},T={class:"flex"},V={class:"container"},C={class:"order-index"},E={id:"email"},F={key:0,class:"text-suceess"},M={key:1,class:"text-unPaid"},N=f({__name:"order",setup(S){const r=p([]),d=p("");y(()=>{k(async()=>{let u;await g("orderDB",2).then(async l=>{u=l;const e=await B(u,"orders");r.value.push(...e)})})});const _=m(()=>r.value.filter(l=>l.user.name.includes(d.value)));return(u,l)=>(a(),n("div",null,[l[6]||(l[6]=t("h1",{style:{"text-align":"center"}},"所有訂單",-1)),r.value.length==0?(a(),n("h1",w,"您目前沒有訂單")):o("",!0),t("div",P,[t("div",T,[l[1]||(l[1]=t("p",null,"下訂單者姓名搜尋:",-1)),x(t("input",{type:"text",placeholder:"請輸入下訂單者姓名","onUpdate:modelValue":l[0]||(l[0]=e=>d.value=e)},null,512),[[b,d.value]])])]),t("div",V,[r.value.length>0?(a(!0),n(v,{key:0},h(_.value,(e,c)=>(a(),n("div",{class:"table-container",key:c},[t("p",C,"訂單 "+s(c+1),1),t("table",null,[l[2]||(l[2]=t("thead",null,[t("tr",null,[t("th",null,"姓名"),t("th",null,"email"),t("th",null,"電話"),t("th",null,"地址")])],-1)),t("tbody",null,[t("tr",null,[t("td",null,s(e.user.name),1),t("td",E,s(e.user.email),1),t("td",null,s(e.user.tel),1),t("td",null,s(e.user.address),1)])])]),t("table",null,[l[5]||(l[5]=t("thead",null,[t("tr",null,[t("th",null,"品名"),t("th",null,"數量"),t("th",null,"總價"),t("th",null,"送貨地址")])],-1)),t("tbody",null,[(a(!0),n(v,null,h(e.products,i=>(a(),n("tr",{key:e.id},[t("td",null,s(i.product.title),1),t("td",null,s(i.qty),1),t("td",null,s(i.final_total),1),t("td",null,s(e.user.address),1)]))),128)),t("tr",null,[l[3]||(l[3]=t("td",null,"總計:",-1)),l[4]||(l[4]=t("td",null,null,-1)),t("td",null,s(e.finalTotal),1),e.isPaid?(a(),n("td",F,"已付款完成")):o("",!0),e.isPaid?o("",!0):(a(),n("td",M,"未付款"))])])])]))),128)):o("",!0)])]))}}),I=D(N,[["__scopeId","data-v-0c533e43"]]);export{I as default};
